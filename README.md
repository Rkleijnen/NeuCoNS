# NeuCoNS- Neuromorphic Communication Network Simulator

Version 0.4.1  
 
---
NeuCoNS is a Python based simulator to allow the evaluation of different communication network architectures and protocols of Neuromorphic Computing (NC) systems at a high level. In a NC system, the communication packets are generated by neurons firing and transmitting a notion of this event, a so called spike packet, to their connected synapses. As the model does not consider the nodes internals, every neuron is assumed to fire once and the corresponding traffic generated by each neuron firing is calculated. The total network traffic is then determined by superimposing the traffic generated by each neuron. 
 
More information on the concept and the implementation of the simulator can be found in *Network Simulator.pdf* in this repository.  
Initial results obtained using the simulator are presented in [[1](#1), [2](#2)] as well as a validation of the simulator against actual NC hardware in [[3]](#3).


## Setting up the Simulator
---

As the simulator is implemented in Python, no installation is required. The only thing needed to run the simulator is a Python Interpreter for Python version 3.7 or higher, the python files *network_sim.py*, *netlist_generation.py*, *hardware_graph.py* and *sim_log.py*, and the config file *config.ini*.  
  
Additionally, a netlist file or a connectivity matrix file is required unless one of the implemented test cases is used. More information on the implemented test cases can be found in *Network Simulator.pdf*. Two exemplary matrix files are also included in this repository and can be found in the folder matrix_files.

## Running the Simulator
---

By running the command:  
> python3 network_sim.py *<Run_Name> <nr_processors>*  

a simulation is started and the results are stored in a directory *<Run_name>*. Also included in this directory are a *log*-file, a copy of the *config.ini* file and, for certain placement algorithms, files defining the neuron placement. The simulator will read out the parameters to use for this run from the config file located in the current working directory. Thus, to run the simulator, the config file has to be located in the current working directory. The Python files on the other hand, can be located in a different directory. However, this does require the addition of the path to the *network_sim.py* file in the command.  

The second argument *<nr_processors>* is optional and can be used to speed up the simulation by parallelizing it over the given number of cores. By default, only a single core is used in case no argument is given.

If a directory with the given *<Run_Name>* already exists in the current working directory, the user is asked whether the existing folder should be overwritten. In this case a new run is started with the same name and the results are overwritten. The original *log*-file on the other hand, is preserved and the name of the new *log*-file is extended with the date and time the run was started. This *log*-file stores information regarding the simulation run, such as run time, run settings, notices, warnings and errors.  

## Getting help
---
- More detailed instructions on how to use the simulator can be found in the wiki of this repository

## Licence
---

NeuCoNS is open source software and is licensed under the GNU General Public License v3 or later.

Copyright (C) 2022, R. Kleijnen, Forschungszentrum Jülich, Central Institute of Engineering, Electronics and Analytics—Electronic Systems (ZEA-2)

NeuCoNS is a free application: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.

NeuCoNS is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with NeuCoNS. If not, see <https://www.gnu.org/licenses/>.

## Changes
---
Reimplemented parallel processing of netlist based analysis. Unfortunatelly large scale impossible?!?

## Known issues
---

The automatic naming of the *<placement file>* and heatmap plots becomes cluttered in case multiple input variables are defined as lists in inputs. The automatically plotted heatmap of the traffic per link has some additional limitations as well. It doesn't scale well for large hardware graph sizes and can't properly visualize the torus connections in a 2D plot.  
## References
---

<a id="1">[1]</a> R. Kleijnen, M. Robens, M. Schiek and S. van Waasen, "A Network Simulator for the Estimation of Bandwidth Load and Latency Created by Heterogeneous Spiking Neural Networks on Neuromorphic Computing Communication Networks," *2021 IEEE 14th International Symposium on Embedded Multicore/Many-core Systems-on-Chip (MCSoC)*, 2021, pp. 320-327, doi: 10.1109/MCSoC51149.2021.00054.  
<a id="2">[2]</a> R. Kleijnen, M. Robens, M. Schiek, and S. van Waasen, “A Network Simulator for the Estimation of Bandwidth Load and Latency Created by Heterogeneous Spiking Neural Networks on Neuromorphic Computing Communication Networks,” *Journal of Low Power Electronics and Applications*, vol. 12, no. 2, p. 23, Apr. 2022, doi: 10.3390/jlpea12020023.  
<a id="3">[3]</a>  R. Kleijnen, M. Robens, M. Schiek and S. van Waasen "Verification of a neuromorphic computing network simulator using experimental traffic data. Front. Neurosci. 16:958343, Juli 2022, doi: 10.3389/fnins.2022.958343